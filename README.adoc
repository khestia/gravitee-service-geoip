= GeoIP service

ifdef::env-github[]
image:https://img.shields.io/static/v1?label=Available%20at&message=Gravitee.io&color=1EC9D2["Gravitee.io", link="https://download.gravitee.io/#plugins/services/gravitee-service-geoip/"]
image:https://img.shields.io/badge/License-Apache%202.0-blue.svg["License", link="https://github.com/gravitee-io/gravitee-service-geoip/blob/master/LICENSE.txt"]
image:https://img.shields.io/badge/semantic--release-conventional%20commits-e10079?logo=semantic-release["Releases", link="https://github.com/gravitee-io/gravitee-service-geoip/releases"]
image:https://circleci.com/gh/gravitee-io/gravitee-service-geoip.svg?style=svg["CircleCI", link="https://circleci.com/gh/gravitee-io/gravitee-service-geoip"]
image:https://f.hubspotusercontent40.net/hubfs/7600448/gravitee-github-button.jpg["Join the community forum", link="https://community.gravitee.io?utm_source=readme", height=20]
endif::[]

== Description

You must use the `service-geoip` when you need to load the `geoip` databases in memory, so you need to adjust the JVM Heap settings of your AM or APIM Gateways accordingly.
It's required to use the `geoip-filtering` policy in APIM and for `Adaptive Multi-Factor Authentication` in AM.

== Compatibility with APIM

|===
|Plugin version | APIM version

| 1.2.x and upper               | 3.15.x to latest
| Up to 1.1.x                   | 3.10.x to 3.14.x
| Up to 1.0.x                   | Up to 3.9.x
|===

== Configuration

After version 1.1.0 you can use this configuration within your gateway to choose your own file, to watch it so when
changed it is reloaded and modify the cache capacity.

```yaml
geoip:
  database:
    city:
      filename: /path/to/GeoLite2-City.mmdb #if null defaults to the embedded db
      watch: true  #if null defaults to false
      cache:
        capacity: 8200  #if null defaults to 4096
```
