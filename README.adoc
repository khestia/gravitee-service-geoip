= GeoIP service

image:https://img.shields.io/badge/License-Apache%202.0-blue.svg["License", link="https://github.com/gravitee-io/gravitee-service-geoip/blob/master/LICENSE"]
image:https://circleci.com/gh/gravitee-io/gravitee-service-geoip.svg?style=svg["CircleCI", link="https://circleci.com/gh/gravitee-io/gravitee-service-geoip"]

== Description

You must use the `service-geoip` when you need to load the `geoip` databases in memory, so you need to adjust the JVM Heap settings of your AM or APIM Gateways accordingly.
It's required to use the `geoip-filtering` policy in APIM and for `Adaptive Multi-Factor Authentication` in AM.

== Compatibility

If you use an APIM < 3.10, only 1.0.x versions are compatible

After version 1.1.0 you can use this configuration within your gateway to choose you own file, to watch it so when
changed it is reloaded and the cache capacity.

```yaml
geoip:
  database:
    city:
      filename: /path/to/GeoLite2-City.mmdb #if null defaults to the embedded db
      watch: true  #if null defaults to false
      cache:
        capacity: 8200  #if null defaults to 4096
```